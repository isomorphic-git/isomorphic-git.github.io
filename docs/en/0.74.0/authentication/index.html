<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Authentication · isomorphic-git</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Authentication is normally required for [`push`](./push.html)ing to a git repository."/><meta name="docsearch:version" content="0.74.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Authentication · isomorphic-git"/><meta property="og:type" content="website"/><meta property="og:url" content="https://isomorphic-git.org/"/><meta property="og:description" content="Authentication is normally required for [`push`](./push.html)ing to a git repository."/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://isomorphic-git.org/img/favicon/android-chrome-192x192.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://isomorphic-git.org/blog/atom.xml" title="isomorphic-git Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://isomorphic-git.org/blog/feed.xml" title="isomorphic-git Blog RSS Feed"/><script type="text/javascript" src="/js/announcement.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/isomorphic-git-logo.svg" alt="isomorphic-git"/><h2 class="headerTitleWithLogo">isomorphic-git</h2></a><a href="/en/versions"><h3>0.74.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/0.74.0/alphabetic" target="_self">API Docs</a></li><li class="siteNavGroupActive"><a href="/docs/en/0.74.0/quickstart" target="_self">Guide</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a href="https://github.com/isomorphic-git/isomorphic-git" target="_self">GitHub</a></li><li class=""><a href="https://npmjs.com/package/isomorphic-git" target="_self">npm</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Getting Started</span></h2></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/0.74.0/quickstart">Quick Start</a></li><li class="navListItem"><a class="navItem" href="/docs/en/0.74.0/browser">Browser Quick Start</a></li><li class="navListItem"><a class="navItem" href="/docs/en/0.74.0/fs">Bring Your Own FS</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/0.74.0/authentication">Authentication</a></li><li class="navListItem"><a class="navItem" href="/docs/en/0.74.0/cli">isogit CLI</a></li><li class="navListItem"><a class="navItem" href="/docs/en/0.74.0/dir-vs-gitdir">dir vs gitdir</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">More<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/en/0.74.0/faq">FAQ</a></li><li class="navListItem"><a class="navItem" href="/docs/en/0.74.0/snippets">Useful Snippets</a></li><li class="navListItem"><a class="navItem" href="/docs/en/0.74.0/webworker">WebWorker Guide</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/isomorphic-git/isomorphic-git/edit/main/docs/authentication.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Authentication</h1></header><article><div><span><p>Authentication is normally required for <a href="./push.html"><code>push</code></a>ing to a git repository.
It may also be required to <a href="./clone.html"><code>clone</code></a> or <a href="./fetch.html"><code>fetch</code></a> from a private repository.
Git does all its authentication using HTTPS Basic Authentication.
Usually this is straightforward: just specify <code>username</code> and <code>password</code>.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">await</span> git.push({
 <span class="hljs-attr">username</span>: <span class="hljs-string">'your username'</span>,
 <span class="hljs-attr">password</span>: <span class="hljs-string">'your password'</span>,
 ...
})
</code></pre>
<p>However, there are some things to watch out for.</p>
<p>If you have two-factor authentication (2FA) enabled on your account, you
probably cannot push or pull using your regular username and password.
Instead, you may have to create a Personal Access Token (or an App Password in Bitbucket lingo) and use that to authenticate.
( <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/">Instructions for GitHub</a>
| <a href="https://confluence.atlassian.com/bitbucket/app-passwords-828781300.html">Instructions for Bitbucket</a>
| <a href="https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html">Instructions for GitLab</a>
)</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">await</span> git.push({
 <span class="hljs-attr">username</span>: <span class="hljs-string">'your username'</span>, <span class="hljs-comment">// Note: username is optional for GitHub</span>
 <span class="hljs-attr">token</span>: <span class="hljs-string">'your Personal Access Token'</span>,
 ...
})
</code></pre>
<p>If you are writing a third-party app that interacts with GitHub/GitLab/Bitbucket, you may be obtaining
OAuth2 tokens from the service via a feature like &quot;Login with GitHub&quot;.
Depending on the OAuth2 token's grants, you can use those tokens for pushing and pulling from git repos as well.
Unfortunately, all the major git hosting companies have chosen different conventions for converting
OAuth2 tokens into Basic Authentication headers! Therefore it is necessary to specify which company's
convention you are interacting with via the <code>oauth2format</code> parameter.
Currently, the following values are understood:</p>
<table>
<thead>
<tr><th>oauth2format</th><th>Basic Auth username</th><th>Basic Auth password</th></tr>
</thead>
<tbody>
<tr><td>'github'</td><td><code>token</code></td><td>'x-oauth-basic'</td></tr>
<tr><td>'bitbucket'</td><td>'x-token-auth'</td><td><code>token</code></td></tr>
<tr><td>'gitlab'</td><td>'oauth2'</td><td><code>token</code></td></tr>
</tbody>
</table>
<p>I will gladly accept pull requests to add support for more companies' conventions.
Here is what using OAuth2 authentication looks like.
Note when using OAuth2 tokens, you do not include <code>username</code> or <code>password</code>.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">await</span> git.push({
 <span class="hljs-attr">oauth2format</span>: <span class="hljs-string">'gitlab'</span>,
 <span class="hljs-attr">token</span>: <span class="hljs-string">'your OAuth2 Token'</span>,
 ...
})
</code></pre>
<p>A complete summary of how the four parameters interact to determine the Basic Auth headers is described by the following truth table:</p>
<table>
<thead>
<tr><th>username</th><th>password</th><th>token</th><th>oauth2format</th><th>= Result</th></tr>
</thead>
<tbody>
<tr><td></td><td></td><td></td><td></td><td>Basic Auth not used</td></tr>
<tr><td>X</td><td></td><td></td><td></td><td>Error &quot;Missing token or password&quot;</td></tr>
<tr><td></td><td>X</td><td></td><td></td><td>Error &quot;Missing username&quot;</td></tr>
<tr><td>X</td><td>X</td><td></td><td></td><td><code>{authUsername: username, authPassword: password}</code></td></tr>
<tr><td></td><td></td><td>X</td><td></td><td><code>{authUsername: token, authPassword: ''}</code> (GitHub's alternative format)</td></tr>
<tr><td>X</td><td></td><td>X</td><td></td><td><code>{authUsername: username, authPassword: token}</code></td></tr>
<tr><td></td><td>X</td><td>X</td><td></td><td>Error &quot;Cannot mix 'password' with 'token'&quot;</td></tr>
<tr><td>X</td><td>X</td><td>X</td><td></td><td>Error &quot;Cannot mix 'password' with 'token'&quot;</td></tr>
<tr><td></td><td></td><td></td><td>X</td><td>Error &quot;Missing token&quot;</td></tr>
<tr><td>X</td><td></td><td></td><td>X</td><td>Error &quot;Cannot mix 'username' with 'oauth2format'. Missing token.&quot;</td></tr>
<tr><td></td><td>X</td><td></td><td>X</td><td>Error &quot;Cannot mix 'password' with 'oauth2format'. Missing token.&quot;</td></tr>
<tr><td>X</td><td>X</td><td></td><td>X</td><td>Error &quot;Cannot mix 'username' and 'password' with 'oauth2format'. Missing token.&quot;</td></tr>
<tr><td></td><td></td><td>X</td><td>X</td><td>as described in the oauth2format table above</td></tr>
<tr><td>X</td><td></td><td>X</td><td>X</td><td>Error &quot;Cannot mix 'username' with 'oauth2format' and 'token'&quot;</td></tr>
<tr><td></td><td>X</td><td>X</td><td>X</td><td>Error &quot;Cannot mix 'password' with 'oauth2format' and 'token'&quot;</td></tr>
<tr><td>X</td><td>X</td><td>X</td><td>X</td><td>Error &quot;Cannot mix 'username' and 'password' with 'oauth2format' and 'token'&quot;</td></tr>
</tbody>
</table>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/0.74.0/fs"><span class="arrow-prev">← </span><span>fs</span></a><a class="docs-next button" href="/docs/en/0.74.0/cli"><span>isogit CLI</span><span class="arrow-next"> →</span></a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/isomorphic-git-logo.svg" alt="isomorphic-git" width="66" height="58"/></a><div class="footerSection"><h5>Docs</h5><a href="/docs/en/quickstart">Getting Started</a><a href="/docs/en/alphabetic">API Reference</a></div><div><h5>Community</h5><a href="/en/users">User Showcase</a><a href="https://gitter.im/isomorphic-git/Lobby">Project Chat</a><div><a href="https://github.com/isomorphic-git/isomorphic-git">GitHub <span id="gitHubStars"></span></a><script>
void async function() {
  const response = await fetch('https://api.github.com/repos/isomorphic-git/isomorphic-git', {
    headers: { accept: 'application/vnd.github.v3+json' }
  })
  const data = await response.json()
  document.querySelector('#gitHubStars').textContent = '(' + data.stargazers_count + '⭐)'
}()
</script></div></div><div><h5>More</h5><a href="/docs/en/in-the-news">In The News</a><a href="/blog">Blog</a></div></section><script type="text/javascript">let el = document.querySelector('.navListItemActive'); if (el) el.scrollIntoView({ block: 'nearest' })</script><script type="text/javascript" src="/js/gitter.js"></script><script type="text/javascript" src="/js/sidecar.v1.js"></script><script type="text/javascript" src="/js/codemirrorify.js"></script><script type="text/javascript" src="https://unpkg.com/@isomorphic-git/lightning-fs"></script><script type="text/javascript" src="/js/isomorphic-git/index.umd.min.js"></script><script type="module" src="/js/tutorial.js"></script><script type="module" src="/js/try-it-out-giturl.js"></script><script type="text/javascript" src="https://unpkg.com/@webcomponents/shadydom"></script><script type="text/javascript" src="/js/object-inspector.min.js"></script><script data-domain="isomorphic-git.org" src="https://plausible.io/js/plausible.js"></script></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'ac63b0df4513e31143eef156f520056c',
                indexName: 'isomorphic_git',
                inputSelector: '#search_input_react',
                algoliaOptions: {"typoTolerance":"min","facetFilters":["language:en","version:0.74.0"]}
              });
            </script></body></html>