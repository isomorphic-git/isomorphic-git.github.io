<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Browser Quick Start · isomorphic-git</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;br&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Browser Quick Start · isomorphic-git"/><meta property="og:type" content="website"/><meta property="og:url" content="https://isomorphic-git.org/index.html"/><meta property="og:description" content="&lt;br&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://isomorphic-git.org/blog/atom.xml" title="isomorphic-git Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://isomorphic-git.org/blog/feed.xml" title="isomorphic-git Blog RSS Feed"/><script type="text/javascript" src="/js/announcement.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/en"><img class="logo" src="/img/isomorphic-git-logo.svg" alt="isomorphic-git"/><h2 class="headerTitleWithLogo">isomorphic-git</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/en/alphabetic" target="_self">API Docs</a></li><li class="siteNavGroupActive"><a href="/docs/en/quickstart" target="_self">Guide</a></li><li class=""><a href="/blog" target="_self">Blog</a></li><li class=""><a href="https://github.com/isomorphic-git/isomorphic-git" target="_self">Github</a></li><li class=""><a href="https://npmjs.com/package/isomorphic-git" target="_self">npm</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Getting Started</span></h2></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul><li class="navListItem"><a class="navItem" href="/docs/en/quickstart">Quick Start</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/en/browser">Browser Quick Start</a></li><li class="navListItem"><a class="navItem" href="/docs/en/fs">Bring Your Own FS</a></li><li class="navListItem"><a class="navItem" href="/docs/en/authentication">Authentication</a></li><li class="navListItem"><a class="navItem" href="/docs/en/cli">isogit CLI</a></li><li class="navListItem"><a class="navItem" href="/docs/en/dir-vs-gitdir">dir vs gitdir</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">More</h3><ul><li class="navListItem"><a class="navItem" href="/docs/en/faq">FAQ</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/isomorphic-git/isomorphic-git.github.io/edit/source/docs/guide-browser.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Browser Quick Start</h1></header><article><div><span><p><br></p>
<aside>
If you've already done the tutorial or need a clean slate, you can run this snippet to clean up the file system.
<pre><code class="hljs css languages- js live">fs.getRootFS().empty()
</code></pre>
</aside>
<p>Here's a whirlwind tour of the main features of <code>isomorphic-git</code>.</p>
<p>First, let's set up BrowserFS and isomorphic-git. <em>Note: I've already done this for you, which is why there is no RUN button for this code block.</em></p>
<pre><code class="hljs css languages- html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://isomorphic-git.org/js/browserfs.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://isomorphic-git.org/js/pify.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/isomorphic-git"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">

<span class="hljs-keyword">let</span> fsOptions = {
  <span class="hljs-attr">fs</span>: <span class="hljs-string">'IndexedDB'</span>,
  <span class="hljs-attr">options</span>: {}
}

BrowserFS.configure(fsOptions, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.log(err)

  <span class="hljs-built_in">window</span>.fs = BrowserFS.BFSRequire(<span class="hljs-string">'fs'</span>)

  <span class="hljs-comment">// Initialize isomorphic-git with our new file system</span>
  git.plugins.set(<span class="hljs-string">'fs'</span>, fs)

  <span class="hljs-comment">// make a Promisified version for convenience</span>
  <span class="hljs-built_in">window</span>.pfs = pify(fs) 
})

</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>Now let's pick a directory to work in.</p>
<pre><code class="hljs css languages- js live"><span class="hljs-built_in">window</span>.dir = $input((<span class="hljs-string">'tutorial'</span>))
<span class="hljs-built_in">console</span>.log(dir);
<span class="hljs-keyword">await</span> pfs.mkdir(dir);
<span class="hljs-comment">// Behold - it is empty!</span>
<span class="hljs-keyword">await</span> pfs.readdir(dir);
</code></pre>
<p>Now that we've got an empty directory, let's clone a git repository.
I'm cloning <code>isomorphic-git</code> itself (how meta!).
I'm only cloning a single branch and only to a depth of 10 commits to save time, bandwidth, and browser storage space.
Since Github hasn't added CORS headers to the git clone endpoint yet, we have to use a <a href="https://cors.isomorphic-git.org/">proxy server</a>.
(They never suspected that a <em>browser</em> would want to run &quot;git clone&quot;!)</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> git.clone({
    dir,
    <span class="hljs-attr">corsProxy</span>: <span class="hljs-string">'https://cors.isomorphic-git.org'</span>,
    <span class="hljs-attr">url</span>: <span class="hljs-string">'https://github.com/isomorphic-git/isomorphic-git'</span>,
    <span class="hljs-attr">ref</span>: <span class="hljs-string">'master'</span>,
    <span class="hljs-attr">singleBranch</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">depth</span>: <span class="hljs-number">10</span>
});

<span class="hljs-comment">// Now it should not be empty...</span>
<span class="hljs-keyword">await</span> pfs.readdir(dir);
</code></pre>
<p>Great! We've got files. We've also got commits.
Let's see what the recent history of this branch looks like.
<em>Hint: be sure to expand the objects so you can see all the properties.</em></p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> git.log({dir})
</code></pre>
<p>Git is used to track files. Let's see what kind of file things we can do!</p>
<p>git.status is a major one. That let's us compare the working directory file to the current branch.</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> git.status({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'$input((README.md))'</span>})
</code></pre>
<p>OK so the status is &quot;unmodified&quot; because we haven't modified it.
What if we change the file by writing over it?</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> pfs.writeFile(<span class="hljs-string">`<span class="hljs-subst">${dir}</span>/README.md`</span>, <span class="hljs-string">'Very short README'</span>, <span class="hljs-string">'utf8'</span>)
<span class="hljs-keyword">await</span> git.status({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'README.md'</span>})
</code></pre>
<p>The status is &quot;*modified&quot; with a star.
Text editors sometimes use a &quot;*&quot; in the title bar to indicate a file has unsaved changes.
That's what is going on here - we've made changes to the file but we haven't added those changes to the git &quot;staging area&quot;.</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> git.add({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'README.md'</span>})
<span class="hljs-keyword">await</span> git.status({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'README.md'</span>})
</code></pre>
<p>Now that we've done &quot;git add&quot; that little star has gone away and the status is just &quot;modified&quot;.</p>
<p>What if we write a new file?</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> pfs.writeFile(<span class="hljs-string">`<span class="hljs-subst">${dir}</span>/newfile.txt`</span>, <span class="hljs-string">'Hello World'</span>, <span class="hljs-string">'utf8'</span>)
<span class="hljs-keyword">await</span> git.status({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'newfile.txt'</span>})
</code></pre>
<p>&quot;*added&quot; means the file has been added, but not staged. Simple to fix:</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> git.add({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'newfile.txt'</span>})
<span class="hljs-keyword">await</span> git.status({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'newfile.txt'</span>})
</code></pre>
<p>The third and final trick: deleting a file:</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> pfs.unlink(<span class="hljs-string">`<span class="hljs-subst">${dir}</span>/package.json`</span>)
<span class="hljs-keyword">await</span> git.status({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'package.json'</span>})
</code></pre>
<p>This last bit has always been unintuitive to me... but you need to tell git you deleted the file.</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> git.remove({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'package.json'</span>})
<span class="hljs-keyword">await</span> git.status({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'package.json'</span>})
</code></pre>
<p>What happens if you tell git you deleted a file but you really didn't?</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> git.remove({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'package-lock.json'</span>})
<span class="hljs-keyword">await</span> git.status({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'package-lock.json'</span>})
</code></pre>
<p>Does that make sense? No? Sorry, naming things is hard. (Git doesn't do a great job of it either.
It reports the file as &quot;untracked&quot; and &quot;deleted&quot; at the same time.) OK, enough messing around.</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">await</span> git.add({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'package-lock.json'</span>})
<span class="hljs-keyword">await</span> git.status({dir, <span class="hljs-attr">filepath</span>: <span class="hljs-string">'package-lock.json'</span>})
</code></pre>
<p>Cool. So we've deleted package.json and replaced the README with the text &quot;Very short README&quot;.
A solid day's work - let's commit those changes.</p>
<pre><code class="hljs css languages- js live"><span class="hljs-keyword">let</span> sha = <span class="hljs-keyword">await</span> git.commit({
  dir,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'Delete package.json and overwrite README.'</span>,
  <span class="hljs-attr">author</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Mr. Test'</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">'mrtest@example.com'</span>
  }
})

sha
</code></pre>
<p>git.commit returns the shasum of our new commit. Let's examine our handiwork:</p>
<pre><code class="hljs css languages- js live">commits = <span class="hljs-keyword">await</span> git.log({dir, <span class="hljs-attr">depth</span>: <span class="hljs-number">1</span>})
commits[<span class="hljs-number">0</span>]
</code></pre>
<!--
I just had a brilliant idea. What if instead of starting out cloning `isomorphic-git`
I had you the user create a new Github repo at the beginning with a default 'LICENSE.md' and 'README.md'?
Then we could actually push the changes we've made here in this last step.
<p>When you create the repo, I'll have to add instructions for creating an access token for that repo so
you can push the results. Wait, Github doesn't allow you to specify write permissions for an individual repo?
Grr now they'll have to create an organization... wait that's a permanent name thing... ugh. I need
to build a bot to automate this thing. It can create the repo, then give <em>you</em> access to it. Or something.
--&gt;</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/en/quickstart">← Quick Start</a><a class="docs-next button" href="/docs/en/fs">fs →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/isomorphic-git-logo.svg" alt="isomorphic-git" width="66" height="58"/></a><div class="footerSection"><h5>Docs</h5><a href="/docs/en/quickstart">Getting Started</a><a href="/docs/en/alphabetic">API Reference</a></div><div><h5>Community</h5><a href="/en/users">User Showcase</a><a href="https://gitter.im/isomorphic-git/Lobby">Project Chat</a><div><a href="https://github.com/isomorphic-git/isomorphic-git">GitHub <span id="gitHubStars"></span></a><script>
void async function() {
  const response = await fetch('https://api.github.com/repos/isomorphic-git/isomorphic-git', {
    headers: { accept: 'application/vnd.github.v3+json' }
  })
  const data = await response.json()
  document.querySelector('#gitHubStars').textContent = '(' + data.stargazers_count + '⭐)'
}()
</script></div></div><div><h5>More</h5><a href="/docs/en/in-the-news">In The News</a><a href="/blog">Blog</a></div><div><h5>Ad</h5><div id="codefund_ad"></div></div></section><script type="text/javascript" src="/js/gitter.js"></script><script type="text/javascript" src="/js/sidecar.v1.js"></script><script type="text/javascript" src="/js/browserfs.js"></script><script type="text/javascript" src="https://unpkg.com/isomorphic-git"></script><script type="text/javascript" src="https://unpkg.com/openpgp@2.6.2/dist/openpgp.js"></script><script type="text/javascript" src="/js/pify.js"></script><script type="text/javascript" src="/js/fs.js"></script><script type="text/javascript" src="https://unpkg.com/@webcomponents/shadydom"></script><script type="text/javascript" src="/js/object-inspector.min.js"></script><script type="text/javascript" src="/js/tutorial.js"></script><script type="text/javascript" src="/js/try-it-out-giturl.js"></script><script type="text/javascript" src="//static.getclicky.com/js"></script><script type="text/javascript" src="/js/analytics.js"></script><script type="text/javascript" src="https://codefund.io/scripts/aa6eb5e6-191a-4a38-8109-63fdd08d0e58/embed.js"></script></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                
                apiKey: 'ac63b0df4513e31143eef156f520056c',
                indexName: 'isomorphic_git',
                inputSelector: '#search_input_react',
                algoliaOptions: {"typoTolerance":"min"}
              });
            </script></body></html>